{% extends 'base.html.twig' %}

{% block title %}Nous contacter{% endblock %}

{% block body %}
    <h1>Nous contacter</h1>

   {{ form_start(form) }}
    {{ form_widget(form) }}
    <button class="contact" type="submit">
        Contact 
    </button>
    {{ form_end(form) }}
<pre>
    {{ dump(form) }}
</pre>
    <form id="contact-form" method="POST" action="{{ path('contact') }}">
        <div class="form-group">
            <label for="nom">Nom :</label>
            <input type="text" id="nom" name="nom" class="form-control">
        </div>
        <div class="form-group">
            <label for="prenom">Prénom :</label>
            <input type="text" id="prenom" name="prenom" class="form-control">
        </div>
        <div class="form-group">
            <label for="email">Adresse e-mail :</label>
            <input type="email" id="email" name="email" class="form-control">
        </div>
        <div class="form-group">
            <label for="numeroTelephone">Numéro de téléphone :</label>
            <input type="tel" id="numeroTelephone" name="numeroTelephone" class="form-control">
        </div>
        <div class="form-group">
            <label for="message">Message :</label>
            <textarea id="message" name="message" class="form-control"></textarea>
        </div>
            <div class="form-group">
                <label for="sujet">information du vehicule</label>
                <input  id="sujet" name="sujet" class="form-control">
            </div>

    </form>
    <button class="contact" type="submit">
        Contact
    </button>
   <pre>
    {{ dump(form) }}
   </pre>

{% endblock %}


{% block javascripts %}
    <script> 
    window.onload = () => {
    // Récupérer l'élément du formulaire de contact
    const formulaireContact = document.getElementById("contact-form");

    // Écouter le clic sur le bouton "Contact" de chaque voiture
    document.querySelectorAll(".btn-primary.contact").forEach(button => {
        button.addEventListener("click", () => {
            // Récupérer le titre de la voiture
            const titre = button.parentElement.querySelector(".sujet-titre").textContent;
            dump(titre);
            // Pré-remplir le champ "sujet" du formulaire de contact avec le titre de la voiture
            const sujetInput = formulaireContact.querySelector("#sujet");
            sujetInput.value = titre;
        });
    });
};
    
        </script>
{% endblock %}